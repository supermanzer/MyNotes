<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>OCR</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Knowledge Space"/><meta property="og:title" content="OCR"/><meta property="og:description" content="Personal Knowledge Space"/><meta property="og:url" content="https://supermanzer.github.io/MyNotes/MyNotes/notes/llhbj4zwjnalqoi6hn497rm/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="4/10/2022"/><meta property="article:modified_time" content="7/3/2022"/><link rel="canonical" href="https://supermanzer.github.io/MyNotes/MyNotes/notes/llhbj4zwjnalqoi6hn497rm/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/MyNotes/_next/static/css/c62a80f4efd2491b.css" as="style"/><link rel="stylesheet" href="/MyNotes/_next/static/css/c62a80f4efd2491b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/MyNotes/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/MyNotes/_next/static/chunks/webpack-aa0f3da0c5cb1aea.js" defer=""></script><script src="/MyNotes/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/MyNotes/_next/static/chunks/main-5754b24f00ae3e2c.js" defer=""></script><script src="/MyNotes/_next/static/chunks/pages/_app-291e3d8fb820dfa8.js" defer=""></script><script src="/MyNotes/_next/static/chunks/855-124c7d93158bd007.js" defer=""></script><script src="/MyNotes/_next/static/chunks/776-959ab9b5289532fd.js" defer=""></script><script src="/MyNotes/_next/static/chunks/pages/notes/%5Bid%5D-9c4f89da4e36492e.js" defer=""></script><script src="/MyNotes/_next/static/wUbxO45oTJ6tr6GiqesTb/_buildManifest.js" defer=""></script><script src="/MyNotes/_next/static/wUbxO45oTJ6tr6GiqesTb/_ssgManifest.js" defer=""></script><script src="/MyNotes/_next/static/wUbxO45oTJ6tr6GiqesTb/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="ocr"><a aria-hidden="true" class="anchor-heading" href="#ocr"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>OCR</h1>
<ul>
<li><strong>Service:</strong> <a href="/MyNotes/notes/Wl7xkoMZgCm0faeX2LfZn">Text Parsing</a></li>
<li><strong>Core Tech:</strong> <a href="https://pypi.org/project/pytesseract/">PyTesseract</a></li>
</ul>
<p>Accurate Optical Character Recognition (OCR) is the core of the Text Parsing service.</p>
<p>One of the key challenges in text recognition and parsing with recipes is the use of columnar text layouts.</p>
<p>Another significant challenge is the translation of ingredient lists.  The main challenge here so far is proper recognition of fractions, although list format icons can add some extra difficulty.</p>
<hr>
<h2 id="columnar-text"><a aria-hidden="true" class="anchor-heading" href="#columnar-text"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Columnar Text</h2>
<p>An initial attempt to to handle proper word order when extracting text from multiple columns has been attempted following <a href="https://nanonets.com/blog/ocr-with-tesseract/">this guide</a>.  Results have been less than ideal but introducing some imperitive coding logic may prove useful as well as refining my image pre-processing steps to provide maximum contrast while maintaining clarity.</p>
<h3 id="next-steps"><a aria-hidden="true" class="anchor-heading" href="#next-steps"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Next Steps</h3>
<ul>
<li>Conduct more research into the <a href="https://pypi.org/project/opencv-python/">Open CV</a> functions for detecting contours in the image for better splitting of by columns.  This should improve segmentation for text processing.</li>
</ul>
<hr>
<h2 id="ingredient-lists"><a aria-hidden="true" class="anchor-heading" href="#ingredient-lists"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Ingredient Lists</h2>
<p>One of the most difficult to interpret characters present in ingredient lists are fractions.  Often these are translated to <code>Y</code> or <code>%</code> characters.  Numbers (depending on the font used) can also provide a significant difficulty.</p>
<h3 id="next-steps-1"><a aria-hidden="true" class="anchor-heading" href="#next-steps-1"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Next Steps</h3>
<ul>
<li>Review <a href="https://pyimagesearch.com/2021/08/30/detecting-and-ocring-digits-with-tesseract-and-python/">this tutorial</a> about configuring PyTesseract for digit recognition.</li>
<li>Review <a href="https://stackoverflow.com/questions/55994807/why-does-pytesseract-fail-to-recognise-digits-from-image-with-darker-background">this SO Question</a> regarding improved image preprocessing.</li>
<li>Review <a href="https://github.com/tesseract-ocr/tesseract/issues/2274">this Github Issue</a> regarding applying new training data to improve PyTesseract model for fraction recognition.</li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#columnar-text" title="Columnar Text">Columnar Text</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#next-steps" title="Next Steps">Next Steps</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ingredient-lists" title="Ingredient Lists">Ingredient Lists</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#next-steps-1" title="Next Steps">Next Steps</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"llhbj4zwjnalqoi6hn497rm","title":"OCR","desc":"","updated":1656877031315,"created":1649604302413,"custom":{},"fname":"projects.local-recipe-server.ml-tasks.ocr","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"89b5d0053f9f52f62cd988791dccbc27","links":[{"type":"wiki","from":{"fname":"projects.local-recipe-server.ml-tasks.ocr","id":"llhbj4zwjnalqoi6hn497rm","vaultName":"Dendron"},"value":"projects.local-recipe-server.services.text-parsing","alias":"projects.local-recipe-server.services.text-parsing","position":{"start":{"line":2,"column":16,"offset":16},"end":{"line":2,"column":70,"offset":70},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"projects.local-recipe-server.services.text-parsing"}}],"anchors":{"columnar-text":{"type":"header","text":"Columnar Text","value":"columnar-text","line":19,"column":0,"depth":2},"next-steps":{"type":"header","text":"Next Steps","value":"next-steps","line":22,"column":0,"depth":3},"ingredient-lists":{"type":"header","text":"Ingredient Lists","value":"ingredient-lists","line":27,"column":0,"depth":2},"next-steps-1":{"type":"header","text":"Next Steps","value":"next-steps-1","line":30,"column":0,"depth":3}},"children":[],"parent":"3u8xz9de0m56m2pu466elrr","data":{}},"body":"\u003ch1 id=\"ocr\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ocr\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eOCR\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eService:\u003c/strong\u003e \u003ca href=\"/MyNotes/notes/Wl7xkoMZgCm0faeX2LfZn\"\u003eText Parsing\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCore Tech:\u003c/strong\u003e \u003ca href=\"https://pypi.org/project/pytesseract/\"\u003ePyTesseract\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAccurate Optical Character Recognition (OCR) is the core of the Text Parsing service.\u003c/p\u003e\n\u003cp\u003eOne of the key challenges in text recognition and parsing with recipes is the use of columnar text layouts.\u003c/p\u003e\n\u003cp\u003eAnother significant challenge is the translation of ingredient lists.  The main challenge here so far is proper recognition of fractions, although list format icons can add some extra difficulty.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"columnar-text\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#columnar-text\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eColumnar Text\u003c/h2\u003e\n\u003cp\u003eAn initial attempt to to handle proper word order when extracting text from multiple columns has been attempted following \u003ca href=\"https://nanonets.com/blog/ocr-with-tesseract/\"\u003ethis guide\u003c/a\u003e.  Results have been less than ideal but introducing some imperitive coding logic may prove useful as well as refining my image pre-processing steps to provide maximum contrast while maintaining clarity.\u003c/p\u003e\n\u003ch3 id=\"next-steps\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#next-steps\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eNext Steps\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eConduct more research into the \u003ca href=\"https://pypi.org/project/opencv-python/\"\u003eOpen CV\u003c/a\u003e functions for detecting contours in the image for better splitting of by columns.  This should improve segmentation for text processing.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"ingredient-lists\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ingredient-lists\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eIngredient Lists\u003c/h2\u003e\n\u003cp\u003eOne of the most difficult to interpret characters present in ingredient lists are fractions.  Often these are translated to \u003ccode\u003eY\u003c/code\u003e or \u003ccode\u003e%\u003c/code\u003e characters.  Numbers (depending on the font used) can also provide a significant difficulty.\u003c/p\u003e\n\u003ch3 id=\"next-steps-1\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#next-steps-1\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eNext Steps\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eReview \u003ca href=\"https://pyimagesearch.com/2021/08/30/detecting-and-ocring-digits-with-tesseract-and-python/\"\u003ethis tutorial\u003c/a\u003e about configuring PyTesseract for digit recognition.\u003c/li\u003e\n\u003cli\u003eReview \u003ca href=\"https://stackoverflow.com/questions/55994807/why-does-pytesseract-fail-to-recognise-digits-from-image-with-darker-background\"\u003ethis SO Question\u003c/a\u003e regarding improved image preprocessing.\u003c/li\u003e\n\u003cli\u003eReview \u003ca href=\"https://github.com/tesseract-ocr/tesseract/issues/2274\"\u003ethis Github Issue\u003c/a\u003e regarding applying new training data to improve PyTesseract model for fraction recognition.\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"0bwos7t08sg0btcv0xz15jj","title":"My Notes","desc":"The personal notes of Ryan Manzer - he puts the Manzer in Supermanzer","updated":1656877804079,"created":1653768544007,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"c60847c1bac11a21d4df34db59344c62","links":[],"anchors":{"welcome-to-my-brain":{"type":"header","text":"Welcome to my brain","value":"welcome-to-my-brain","line":8,"column":0,"depth":2}},"children":["ZMf4aL2sSZBsUMJgMhn0R"],"parent":null,"data":{},"body":"\n## Welcome to my brain\n\nI use this wiki site and [Dendron](https://wiki.dendron.so/) to organize my thoughts about various software projects and ideas.  This tool is primarily to store my own thoughts and allow me to document my development process.  This helps me better organize these projects and plan future development.  \n\nIf others find this site interesting and possibly useful, bonus!"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template","insertNote":{"initialValue":"templates"}},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":false,"enableHandlebarTemplates":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteUrl":"https://supermanzer.github.io/MyNotes","assetsPrefix":"/MyNotes","siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"My Notes","description":"Personal Knowledge Space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"llhbj4zwjnalqoi6hn497rm"},"buildId":"wUbxO45oTJ6tr6GiqesTb","assetPrefix":"/MyNotes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>